<div class="overlay">
  <div class="user-form">
      <mat-card>
          <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
              <mat-card-content>

                  <!-- Name -->
                  <mat-form-field class="form-field" appearance="outline">
                      <mat-label>Name</mat-label>
                      <input matInput id="name" formControlName="name">
                      @if (registerForm.get('name')?.invalid && registerForm.get('name')?.touched) {
                      <mat-error>Name is required.</mat-error>
                      }
                  </mat-form-field>

                  <!-- Password -->
                  <mat-form-field class="form-field" appearance="outline">
                      <mat-label>Password</mat-label>
                      <input matInput type="password" formControlName="password">
                      @if (registerForm.get('password')?.invalid && registerForm.get('password')?.touched) {
                      @if (registerForm.get('password')?.hasError('required')) {
                      <mat-error>Password is required.</mat-error>
                      }
                      @if (registerForm.get('password')?.hasError('minlength')) {
                      <mat-error>Password must be more than 4 characters.</mat-error>
                      }
                      }
                  </mat-form-field>

                  <!-- Email -->
                  <mat-form-field class="form-field" appearance="outline">
                      <mat-label>Email</mat-label>
                      <input matInput type="email" id="email" formControlName="email">
                      @if (registerForm.get('email')?.invalid && registerForm.get('email')?.touched) {
                      <mat-error>Email is not valid.</mat-error>
                      }
                  </mat-form-field>

                  <!-- User Type -->
                  <mat-form-field class="form-field" appearance="outline">
                      <mat-label>User Type</mat-label>
                      <mat-select formControlName="role">
                          <mat-option value="" disabled>Select a role</mat-option>
                          @for (type of userTypes; track type) {
                          <mat-option [value]="type">{{ type }}</mat-option>
                          }
                      </mat-select>
                  </mat-form-field>

              </mat-card-content>

              <mat-card-actions>
                  <button  mat-flat-button  type="submit" color="primary"
                      (click)="onSubmit()" 
                      class="button">
                      save
                  </button>
                  <button  mat-flat-button  type="submit" color="warn"
                      (click)="formClosed.emit()" 
                      class="button">
                      cancel
                  </button>
              </mat-card-actions>
          </form>
      </mat-card>
  </div>
</div>
  
