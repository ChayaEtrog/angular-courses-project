<div class="overlay">
    <div class="user-form">
        <mat-card>
            <form [formGroup]="courseForm" (ngSubmit)="onSubmit()">
                <mat-card-content>

                    <mat-form-field class="form-field" appearance="outline">
                        <mat-label>Title</mat-label>
                        <input matInput formControlName="title">
                        @if (courseForm.get('title')?.invalid && courseForm.get('title')?.touched) {
                        @if (courseForm.get('title')?.hasError('title')) {
                        <mat-error>title is required.</mat-error>
                        }
                        @if (courseForm.get('title')?.hasError('minlength')) {
                        <mat-error>title must be more than 3 characters.</mat-error>
                        }
                        }
                    </mat-form-field>

                    <mat-form-field class="form-field" appearance="outline">
                        <mat-label>Description</mat-label>
                        <input matInput id="description" formControlName="description">
                        @if (courseForm.get('description')?.invalid && courseForm.get('description')?.touched) {
                        <mat-error>description is required.</mat-error>
                        }
                    </mat-form-field>

                    <mat-form-field class="form-field" appearance="outline">
                        <mat-label>Techar id</mat-label>
                        <input matInput type="teacherId" id="teacherId" formControlName="teacherId">
                        @if (courseForm.get('teacherId')?.invalid && courseForm.get('teacherId')?.touched) {
                        <mat-error>teacher id is not valid.</mat-error>
                        }
                    </mat-form-field>
                </mat-card-content>

                <mat-card-actions>
                    <button  mat-stroked-button color="primary" type="submit" (click)="isOpenLessons=!isOpenLessons"
                        class="button">
                        add lesson
                    </button>
                </mat-card-actions>
                <mat-card-actions>
                    <button mat-flat-button color="primary" type="submit" (click)="onSubmit()" class="button">
                        save
                    </button>
                    <button mat-flat-button color="warn" type="submit" (click)="closeForm.emit();" class="button">
                        cancel
                    </button>
                </mat-card-actions>
            </form>
        </mat-card>
    </div>
</div>

@if(isOpenLessons){
<app-lesson-form (closeForm)="closeLessonsForm()"></app-lesson-form>
}